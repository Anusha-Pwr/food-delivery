{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Anusha/Desktop/React revisio/PracticeProj-2/01-starting-project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Anusha/Desktop/React revisio/PracticeProj-2/01-starting-project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Anusha/Desktop/React revisio/PracticeProj-2/01-starting-project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Fragment}from\"react\";import MealsSummary from\"./MealsSummary\";import AvailableMeals from\"./AvailableMeals\";import{useState,useCallback,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Meals=function Meals(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),meals=_useState2[0],setMeals=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var fetchMealsHandler=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data,DUMMY_MEALS,key;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setIsLoading(true);setError(null);_context.prev=2;_context.next=5;return fetch(\"https://react-http-edb74-default-rtdb.firebaseio.com/meals.json\");case 5:response=_context.sent;if(response.ok){_context.next=8;break;}throw new Error(\"Something went wrong!\");case 8:_context.next=10;return response.json();case 10:data=_context.sent;console.log(data);DUMMY_MEALS=[];for(key in data){DUMMY_MEALS.push({id:key,name:data[key].name,description:data[key].description,price:data[key].price});}setMeals(DUMMY_MEALS);_context.next=20;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](2);setError(_context.t0.message);case 20:setIsLoading(false);case 21:case\"end\":return _context.stop();}},_callee,null,[[2,17]]);})),[]);var content=/*#__PURE__*/_jsx(\"p\",{style:{textAlign:\"center\",color:\"white\"},children:\"Found no meals.\"});if(meals.length>0){content=/*#__PURE__*/_jsx(AvailableMeals,{mealsAvailable:meals});}if(error){content=/*#__PURE__*/_jsx(\"p\",{style:{textAlign:\"center\",color:\"white\"},children:error});}if(isLoading){content=/*#__PURE__*/_jsx(\"p\",{style:{textAlign:\"center\",color:\"white\"},children:\"Loading...\"});}useEffect(function(){fetchMealsHandler();},[fetchMealsHandler]);return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MealsSummary,{}),content]});};export default Meals;","map":{"version":3,"names":["Fragment","MealsSummary","AvailableMeals","useState","useCallback","useEffect","jsx","_jsx","jsxs","_jsxs","Meals","props","_useState","_useState2","_slicedToArray","meals","setMeals","_useState3","_useState4","error","setError","_useState5","_useState6","isLoading","setIsLoading","fetchMealsHandler","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","DUMMY_MEALS","key","wrap","_callee$","_context","prev","next","fetch","sent","ok","Error","json","console","log","push","id","name","description","price","t0","message","stop","content","style","textAlign","color","children","length","mealsAvailable"],"sources":["C:/Users/Anusha/Desktop/React revisio/PracticeProj-2/01-starting-project/src/Components/Meals/Meals.jsx"],"sourcesContent":["import { Fragment } from \"react\"\r\nimport MealsSummary from \"./MealsSummary\"\r\nimport AvailableMeals from \"./AvailableMeals\"\r\nimport { useState, useCallback, useEffect } from \"react\"\r\n\r\nconst Meals = (props) => {\r\n\r\n    const [meals, setMeals] = useState([]);\r\n    const [error, setError] = useState(null);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n\r\n    const fetchMealsHandler = useCallback(async () => {\r\n        setIsLoading(true);\r\n        setError(null);\r\n        try {\r\n          const response = await fetch(\"https://react-http-edb74-default-rtdb.firebaseio.com/meals.json\");\r\n    \r\n          if (!response.ok) {\r\n            throw new Error(\"Something went wrong!\");\r\n          }\r\n    \r\n          const data = await response.json();\r\n          console.log(data);\r\n    \r\n    \r\n          const DUMMY_MEALS = [];\r\n    \r\n          for (const key in data) {\r\n            DUMMY_MEALS.push({\r\n              id: key,\r\n              name: data[key].name,\r\n              description: data[key].description,\r\n              price: data[key].price\r\n            });\r\n          }\r\n          setMeals(DUMMY_MEALS);\r\n        } catch (error) {\r\n          setError(error.message);\r\n        }\r\n    \r\n        setIsLoading(false);\r\n      }, []);\r\n    \r\n      let content = <p style={{textAlign: \"center\", color: \"white\"}}>Found no meals.</p>\r\n    \r\n      if(meals.length > 0) {\r\n        content = <AvailableMeals mealsAvailable={meals} />\r\n      }\r\n    \r\n      if(error) {\r\n        content = <p style={{textAlign: \"center\", color: \"white\"}}>{error}</p>\r\n      }\r\n    \r\n      if(isLoading) {\r\n        content = <p style={{textAlign: \"center\", color: \"white\"}}>Loading...</p>\r\n      }\r\n    \r\n      useEffect(() => {\r\n        fetchMealsHandler();\r\n      }, [fetchMealsHandler]);\r\n    \r\n\r\n\r\n    return <Fragment>\r\n        <MealsSummary />\r\n        {/* <AvailableMeals meals={props.mealsAvailable} /> */}\r\n        {content}\r\n    </Fragment>\r\n}\r\n\r\nexport default Meals;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}